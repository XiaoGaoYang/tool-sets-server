# tool-sets-server

`tool-sets`项目的服务器端代码，提供API供客户端调用

# 图书馆书籍查询

矿大图书馆书籍查询系统，经分析采用的是后端渲染，不能直接使用API获取数据，所以采取的方法是先获取网页内容，从网页中将需要的数据爬取出来，然后再根据每本书的书名，从豆瓣读书将书籍封面图片url地址爬取过来

豆瓣读书有API可以调用，但是需要申请，但是申请已经于去年11月关闭了，所以才采用了爬虫爬取封面图片，如果有人能提供豆瓣的API key必是极好的

因为先后要进行两次爬取，先从矿大图书馆爬取书籍相关信息，然后根据爬取结果再从豆瓣爬取封面（第二次需要爬取多个页面，一本书对应一个页面），所以有点耗时，暂时没有想到好的解决办法

## API

请求：`POST` `/library`  

接受参数：

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| keyword | 搜索关键字 | 必填，为用户输入的书名 |  

返回示例：
```javascript
{
  "totalPage": "30",
  "currentPage": "1",
  "bookList": [{
    "detail": "0000430094",
    "name": "CSS商业网站布局之道",
    "author": "朱印宏著",
    "publiser": "清华大学出版社 2007",
    "number": "TP393.092/Z-919.2",
    "type": "中文图书",
    "cover": "https://img3.doubanio.com/mpic/s3022312.jpg"  // 当没有查到封面的时候没有该属性
  }]
}
```
